; Listing generated by Microsoft (R) Optimizing Compiler Version 16.00.30319.01 

include listing.inc

INCLUDELIB OLDNAMES

PUBLIC	__$ArrayPad$
PUBLIC	MakeTable
;	COMDAT pdata
; File c:\users\andy vandijck\downloads\uefiromextract\uefiromextract\uefiromextract\uefiromextract\maketable.c
pdata	SEGMENT
$pdata$MakeTable DD imagerel $LN57
	DD	imagerel $LN57+211
	DD	imagerel $unwind$MakeTable
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$1$MakeTable DD imagerel $LN57+211
	DD	imagerel $LN57+734
	DD	imagerel $chain$1$MakeTable
pdata	ENDS
;	COMDAT pdata
pdata	SEGMENT
$pdata$2$MakeTable DD imagerel $LN57+734
	DD	imagerel $LN57+775
	DD	imagerel $chain$2$MakeTable
pdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$2$MakeTable DD 021H
	DD	imagerel $LN57
	DD	imagerel $LN57+211
	DD	imagerel $unwind$MakeTable
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$chain$1$MakeTable DD 020821H
	DD	013f408H
	DD	imagerel $LN57
	DD	imagerel $LN57+211
	DD	imagerel $unwind$MakeTable
xdata	ENDS
;	COMDAT xdata
xdata	SEGMENT
$unwind$MakeTable DD 0ac219H
	DD	01464c2H
	DD	0150111H
	DD	0d008e00aH
	DD	07004c006H
	DD	030025003H
	DD	imagerel __GSHandlerCheck
	DD	080H
; Function compile flags: /Ogtpy
xdata	ENDS
;	COMDAT MakeTable
_TEXT	SEGMENT
TableBits$GSCopy$1$ = 32
NumOfChar$GSCopy$1$ = 34
tv757 = 36
Table$GSCopy$1$ = 40
Start$ = 48
Weight$ = 88
Count$ = 88
__$ArrayPad$ = 128
Sd$ = 224
NumOfChar$ = 232
BitLen$ = 240
TableBits$ = 248
Table$ = 256
MakeTable PROC						; COMDAT
; Line 28
$LN57:
	push	rbx
	push	rbp
	push	rdi
	push	r12
	push	r13
	push	r14
	sub	rsp, 168				; 000000a8H
	mov	rax, QWORD PTR __security_cookie
	xor	rax, rsp
	mov	QWORD PTR __$ArrayPad$[rsp], rax
	mov	rbx, QWORD PTR Table$[rsp]
; Line 51
	xor	ebp, ebp
	mov	r10, rcx
	lea	rdi, QWORD PTR Count$[rsp]
	mov	ecx, 17
	movzx	eax, bp
	mov	QWORD PTR Table$GSCopy$1$[rsp], rbx
	movzx	r13d, r9w
	mov	WORD PTR TableBits$GSCopy$1$[rsp], r9w
	mov	r12, r8
	movzx	r14d, dx
	mov	WORD PTR NumOfChar$GSCopy$1$[rsp], dx
	rep stosw
; Line 54
	cmp	bp, dx
	jae	SHORT $LN28@MakeTable
	mov	rcx, r8
	movzx	edx, dx
	npad	10
$LL30@MakeTable:
; Line 55
	movzx	eax, BYTE PTR [rcx]
	inc	rcx
	inc	WORD PTR Count$[rsp+rax*2]
	dec	rdx
	jne	SHORT $LL30@MakeTable
$LN28@MakeTable:
; Line 61
	mov	r11d, 1
	mov	DWORD PTR Start$[rsp], ebp
	mov	rdx, rbp
	movzx	edi, r11w
$LL27@MakeTable:
; Line 64
	movzx	eax, di
	mov	ecx, 16
	inc	di
	sub	ecx, eax
	movzx	eax, WORD PTR Count$[rsp+rdx+2]
	add	rdx, 2
	shl	ax, cl
	add	ax, WORD PTR Start$[rsp+rdx]
	mov	WORD PTR Start$[rsp+rdx+2], ax
	cmp	di, 16
	jbe	SHORT $LL27@MakeTable
; Line 67
	mov	QWORD PTR [rsp+160], rsi
	cmp	WORD PTR Start$[rsp+34], bp
	je	SHORT $LN24@MakeTable
; Line 69
	mov	eax, 65535				; 0000ffffH
	jmp	$LN34@MakeTable
$LN24@MakeTable:
	mov	QWORD PTR [rsp+152], r15
; Line 72
	mov	r15d, 16
; Line 74
	mov	WORD PTR Weight$[rsp], bp
	sub	r15w, r13w
; Line 75
	movzx	edx, r11w
	mov	DWORD PTR tv757[rsp], r15d
	cmp	r11w, r13w
	ja	SHORT $LN53@MakeTable
; Line 80
	movzx	r8d, r15w
	movzx	r9d, r13w
	mov	rdi, rbp
	npad	12
$LL23@MakeTable:
; Line 76
	movzx	eax, dx
	mov	ecx, r8d
	inc	dx
	shr	WORD PTR Start$[rsp+rdi+2], cl
; Line 77
	mov	ecx, r9d
	add	rdi, 2
	sub	ecx, eax
	mov	eax, r11d
	shl	ax, cl
	mov	WORD PTR Weight$[rsp+rdi], ax
	cmp	dx, r13w
	jbe	SHORT $LL23@MakeTable
; Line 80
	cmp	dx, 16
	ja	SHORT $LN19@MakeTable
$LN53@MakeTable:
; Line 81
	movzx	eax, dx
	lea	rdi, QWORD PTR Weight$[rsp+rax*2]
	npad	10
$LL20@MakeTable:
	movzx	eax, dx
	mov	ecx, 16
; Line 82
	inc	dx
	sub	ecx, eax
	mov	eax, r11d
	add	rdi, 2
	shl	ax, cl
	mov	WORD PTR [rdi-2], ax
	cmp	dx, 16
	jbe	SHORT $LL20@MakeTable
$LN19@MakeTable:
; Line 85
	movzx	eax, r13w
	movzx	ecx, r15w
	movzx	edi, WORD PTR Start$[rsp+rax*2+2]
	shr	di, cl
; Line 87
	test	di, di
	je	SHORT $LN17@MakeTable
; Line 88
	movzx	ecx, r13b
	mov	eax, r11d
	shl	ax, cl
; Line 89
	cmp	di, ax
	jae	SHORT $LN17@MakeTable
; Line 90
	movzx	edx, ax
	movzx	eax, di
	xor	r8d, r8d
	sub	edx, eax
	movzx	eax, di
	lea	rcx, QWORD PTR [rbx+rax*2]
	add	edx, edx
	call	SetMem16
$LN17@MakeTable:
; Line 95
	movzx	eax, r13w
	mov	ecx, 15
	movzx	r8d, r14w
	sub	ecx, eax
; Line 97
	movzx	r9d, bp
	shl	r11w, cl
	cmp	bp, r14w
	jae	$LN14@MakeTable
; Line 94
	mov	esi, 65535				; 0000ffffH
	npad	12
$LL16@MakeTable:
; Line 99
	movzx	edi, BYTE PTR [r12]
; Line 100
	test	di, di
	je	$LN15@MakeTable
	cmp	edi, 17
	jae	$LN15@MakeTable
; Line 104
	movzx	edx, WORD PTR Start$[rsp+rdi*2]
	movzx	ebx, WORD PTR Weight$[rsp+rdi*2]
	mov	ebp, edi
	add	bx, dx
; Line 106
	cmp	di, r13w
	ja	SHORT $LN11@MakeTable
; Line 108
	cmp	dx, bx
	jae	$LN7@MakeTable
	mov	rcx, QWORD PTR Table$GSCopy$1$[rsp]
	movzx	eax, dx
	lea	rdi, QWORD PTR [rcx+rax*2]
	movzx	eax, bx
	sub	ax, dx
	movzx	ecx, ax
	movzx	eax, r9w
	rep stosw
; Line 112
	jmp	$LN7@MakeTable
$LN11@MakeTable:
; Line 115
	movzx	ecx, r15b
	movzx	eax, dx
	shr	rax, cl
; Line 116
	sub	di, r13w
	mov	rcx, QWORD PTR Table$GSCopy$1$[rsp]
	lea	rcx, QWORD PTR [rcx+rax*2]
; Line 118
	je	SHORT $LN5@MakeTable
	mov	r14d, 1019				; 000003fbH
	xor	r13d, r13d
$LL6@MakeTable:
; Line 119
	cmp	WORD PTR [rcx], r13w
	jne	SHORT $LN4@MakeTable
	cmp	r8w, r14w
	jae	SHORT $LN4@MakeTable
; Line 120
	movzx	eax, r8w
	mov	WORD PTR [r10+rax*2+46], r13w
	mov	WORD PTR [r10+rax*2+2084], r13w
; Line 121
	mov	WORD PTR [rcx], r8w
	inc	r8w
$LN4@MakeTable:
; Line 124
	movzx	eax, WORD PTR [rcx]
	cmp	ax, r14w
	jae	SHORT $LN1@MakeTable
; Line 126
	movzx	eax, ax
	lea	rcx, QWORD PTR [r10+rax*2+2084]
	test	r11w, dx
	jne	SHORT $LN1@MakeTable
; Line 128
	lea	rcx, QWORD PTR [r10+rax*2+46]
$LN1@MakeTable:
; Line 132
	add	dx, dx
; Line 133
	add	di, si
	jne	SHORT $LL6@MakeTable
	movzx	r13d, WORD PTR TableBits$GSCopy$1$[rsp]
	movzx	r14d, WORD PTR NumOfChar$GSCopy$1$[rsp]
	mov	r15d, DWORD PTR tv757[rsp]
$LN5@MakeTable:
; Line 136
	mov	WORD PTR [rcx], r9w
$LN7@MakeTable:
; Line 140
	mov	WORD PTR Start$[rsp+rbp*2], bx
$LN15@MakeTable:
; Line 97
	inc	r9w
	inc	r12
	cmp	r9w, r14w
	jb	$LL16@MakeTable
	xor	ebp, ebp
$LN14@MakeTable:
	mov	r15, QWORD PTR [rsp+152]
; Line 145
	movzx	eax, bp
$LN34@MakeTable:
	mov	rsi, QWORD PTR [rsp+160]
; Line 146
	mov	rcx, QWORD PTR __$ArrayPad$[rsp]
	xor	rcx, rsp
	call	__security_check_cookie
	add	rsp, 168				; 000000a8H
	pop	r14
	pop	r13
	pop	r12
	pop	rdi
	pop	rbp
	pop	rbx
	ret	0
MakeTable ENDP
END
